<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="665px" preserveAspectRatio="none" style="width:680px;height:665px;background:#FFFFFF;" version="1.1" viewBox="0 0 680 665" width="680px" zoomAndPan="magnify"><defs/><g><!--MD5=[e2b9ae9a6f3d968d3533fb88890e19ee]
class store--><g id="elem_store"><rect codeLine="2" fill="#F1F1F1" height="118.4375" id="store" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="393" x="7" y="221"/><ellipse cx="138.75" cy="237" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M141.5156,232.875 Q141.6719,232.6563 141.8594,232.5469 Q142.0469,232.4375 142.2656,232.4375 Q142.6406,232.4375 142.875,232.7031 Q143.1094,232.9531 143.1094,233.5625 L143.1094,235.0156 Q143.1094,235.625 142.875,235.8906 Q142.6406,236.1563 142.2656,236.1563 Q141.9219,236.1563 141.7188,235.9531 Q141.5156,235.7656 141.4063,235.25 Q141.3594,234.8906 141.1719,234.7031 Q140.8438,234.3281 140.2344,234.1094 Q139.625,233.8906 139,233.8906 Q138.2344,233.8906 137.5938,234.2188 Q136.9688,234.5469 136.4688,235.2969 Q135.9844,236.0469 135.9844,237.0781 L135.9844,238.1719 Q135.9844,239.4063 136.875,240.2344 Q137.7656,241.0469 139.3594,241.0469 Q140.2969,241.0469 140.9531,240.7969 Q141.3438,240.6406 141.7656,240.2031 Q142.0313,239.9375 142.1719,239.8594 Q142.3281,239.7813 142.5313,239.7813 Q142.8594,239.7813 143.1094,240.0469 Q143.375,240.2969 143.375,240.6406 Q143.375,240.9844 143.0313,241.3906 Q142.5313,241.9688 141.7344,242.2969 Q140.6563,242.75 139.3594,242.75 Q137.8438,242.75 136.6406,242.125 Q135.6563,241.625 134.9688,240.5625 Q134.2813,239.4844 134.2813,238.2031 L134.2813,237.0469 Q134.2813,235.7188 134.8906,234.5781 Q135.5156,233.4219 136.6094,232.8125 Q137.7031,232.1875 138.9375,232.1875 Q139.6719,232.1875 140.3125,232.3594 Q140.9688,232.5156 141.5156,232.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="159.25" y="242.7285">ListingRecordStore</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="399" y1="253" y2="253"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="264.3047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246" x="27" y="271.5332">_recordRepository : IRecordRepository</text><ellipse cx="18" cy="284.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="27" y="289.1426">Records : List&lt;Record&gt;</text><ellipse cx="18" cy="302.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="27" y="306.752">FilterListingArgs : FilterListingArgs</text><ellipse cx="18" cy="320.1328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="367" x="27" y="324.3613">ListingChanged : EventHandler&lt;RepositoryChangedArgs&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="399" y1="331.4375" y2="331.4375"/></g><!--MD5=[712d1bd7bf057907b8a0976ad07de8af]
class repository--><g id="elem_repository"><rect codeLine="10" fill="#F1F1F1" height="188.875" id="repository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="405" x="268" y="443.5"/><ellipse cx="407.25" cy="459.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M408.2031,456.1406 L408.2031,462.7969 L409.9219,462.7969 Q410.5313,462.7969 410.7969,463.0313 Q411.0625,463.2656 411.0625,463.6563 Q411.0625,464.0313 410.7969,464.2656 Q410.5313,464.5 409.9219,464.5 L404.7813,464.5 Q404.1719,464.5 403.9063,464.2656 Q403.6406,464.0313 403.6406,463.6406 Q403.6406,463.2656 403.9063,463.0313 Q404.1719,462.7969 404.7813,462.7969 L406.5,462.7969 L406.5,456.1406 L404.7813,456.1406 Q404.1719,456.1406 403.9063,455.9063 Q403.6406,455.6719 403.6406,455.2813 Q403.6406,454.9063 403.9063,454.6719 Q404.1719,454.4375 404.7813,454.4375 L409.9219,454.4375 Q410.5313,454.4375 410.7969,454.6719 Q411.0625,454.9063 411.0625,455.2813 Q411.0625,455.6719 410.7969,455.9063 Q410.5313,456.1406 409.9219,456.1406 L408.2031,456.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="118" x="427.75" y="465.2285">IRecordRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="269" x2="672" y1="475.5" y2="475.5"/><ellipse cx="279" cy="489.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="379" x="288" y="494.0332">RecordsChanged : EventHandler&lt;RepositoryChangedArgs&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="269" x2="672" y1="501.1094" y2="501.1094"/><ellipse cx="279" cy="515.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="288" y="519.6426">GetNewId() : ulong</text><ellipse cx="279" cy="533.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="288" y="537.252">AddRecord(Record)</text><ellipse cx="279" cy="550.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="288" y="554.8613">UpdateRecord(Record)</text><ellipse cx="279" cy="568.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="288" y="572.4707">DeleteRecord(Record)</text><ellipse cx="279" cy="585.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="288" y="590.0801">Contains(Record) : bool</text><ellipse cx="279" cy="603.4609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="317" x="288" y="607.6895">GetAllRecords(filterPredicate) : IEnumerable&lt;List&gt;</text><ellipse cx="279" cy="621.0703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="332" x="288" y="625.2988">GetAllRecords(FilterListingArgs) : IEnumerable&lt;List&gt;</text></g><!--MD5=[8de201a31b1b9145e81fd41b8a963213]
class vm--><g id="elem_vm"><rect codeLine="21" fill="#F1F1F1" height="136.0469" id="vm" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="272" x="201.5" y="7"/><ellipse cx="256.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M259.0156,18.875 Q259.1719,18.6563 259.3594,18.5469 Q259.5469,18.4375 259.7656,18.4375 Q260.1406,18.4375 260.375,18.7031 Q260.6094,18.9531 260.6094,19.5625 L260.6094,21.0156 Q260.6094,21.625 260.375,21.8906 Q260.1406,22.1563 259.7656,22.1563 Q259.4219,22.1563 259.2188,21.9531 Q259.0156,21.7656 258.9063,21.25 Q258.8594,20.8906 258.6719,20.7031 Q258.3438,20.3281 257.7344,20.1094 Q257.125,19.8906 256.5,19.8906 Q255.7344,19.8906 255.0938,20.2188 Q254.4688,20.5469 253.9688,21.2969 Q253.4844,22.0469 253.4844,23.0781 L253.4844,24.1719 Q253.4844,25.4063 254.375,26.2344 Q255.2656,27.0469 256.8594,27.0469 Q257.7969,27.0469 258.4531,26.7969 Q258.8438,26.6406 259.2656,26.2031 Q259.5313,25.9375 259.6719,25.8594 Q259.8281,25.7813 260.0313,25.7813 Q260.3594,25.7813 260.6094,26.0469 Q260.875,26.2969 260.875,26.6406 Q260.875,26.9844 260.5313,27.3906 Q260.0313,27.9688 259.2344,28.2969 Q258.1563,28.75 256.8594,28.75 Q255.3438,28.75 254.1406,28.125 Q253.1563,27.625 252.4688,26.5625 Q251.7813,25.4844 251.7813,24.2031 L251.7813,23.0469 Q251.7813,21.7188 252.3906,20.5781 Q253.0156,19.4219 254.1094,18.8125 Q255.2031,18.1875 256.4375,18.1875 Q257.1719,18.1875 257.8125,18.3594 Q258.4688,18.5156 259.0156,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="276.75" y="28.7285">ListingRecordViewModel</text><line style="stroke:#181818;stroke-width:0.5;" x1="202.5" x2="472.5" y1="39" y2="39"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="209.5" y="50.3047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246" x="221.5" y="57.5332">_recordRepository : IRecordRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="209.5" y="67.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="221.5" y="75.1426">_listingStore : ListingRecordStore</text><ellipse cx="212.5" cy="88.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="221.5" y="92.752">Records : List&lt;Record&gt;</text><ellipse cx="212.5" cy="106.1328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="221.5" y="110.3613">AddRecordCommand</text><line style="stroke:#181818;stroke-width:0.5;" x1="202.5" x2="472.5" y1="117.4375" y2="117.4375"/><polygon fill="#FFFF44" points="212.5,126.7422,216.5,130.7422,212.5,134.7422,208.5,130.7422" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="221.5" y="135.9707">OnUpdatedListing()</text></g><!--MD5=[2e18ce67802d37c389bce9ef3c962a3a]
class filter--><g id="elem_filter"><rect codeLine="31" fill="#F1F1F1" height="241.7031" id="filter" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183" x="50" y="417"/><ellipse cx="87.05" cy="433" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M89.8156,428.875 Q89.9719,428.6563 90.1594,428.5469 Q90.3469,428.4375 90.5656,428.4375 Q90.9406,428.4375 91.175,428.7031 Q91.4094,428.9531 91.4094,429.5625 L91.4094,431.0156 Q91.4094,431.625 91.175,431.8906 Q90.9406,432.1563 90.5656,432.1563 Q90.2219,432.1563 90.0188,431.9531 Q89.8156,431.7656 89.7063,431.25 Q89.6594,430.8906 89.4719,430.7031 Q89.1438,430.3281 88.5344,430.1094 Q87.925,429.8906 87.3,429.8906 Q86.5344,429.8906 85.8938,430.2188 Q85.2688,430.5469 84.7688,431.2969 Q84.2844,432.0469 84.2844,433.0781 L84.2844,434.1719 Q84.2844,435.4063 85.175,436.2344 Q86.0656,437.0469 87.6594,437.0469 Q88.5969,437.0469 89.2531,436.7969 Q89.6438,436.6406 90.0656,436.2031 Q90.3313,435.9375 90.4719,435.8594 Q90.6281,435.7813 90.8313,435.7813 Q91.1594,435.7813 91.4094,436.0469 Q91.675,436.2969 91.675,436.6406 Q91.675,436.9844 91.3313,437.3906 Q90.8313,437.9688 90.0344,438.2969 Q88.9563,438.75 87.6594,438.75 Q86.1438,438.75 84.9406,438.125 Q83.9563,437.625 83.2688,436.5625 Q82.5813,435.4844 82.5813,434.2031 L82.5813,433.0469 Q82.5813,431.7188 83.1906,430.5781 Q83.8156,429.4219 84.9094,428.8125 Q86.0031,428.1875 87.2375,428.1875 Q87.9719,428.1875 88.6125,428.3594 Q89.2688,428.5156 89.8156,428.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="105.95" y="438.7285">FilterListingArgs</text><line style="stroke:#181818;stroke-width:0.5;" x1="51" x2="232" y1="449" y2="449"/><ellipse cx="61" cy="463.3047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="70" y="467.5332">From : DateTimeOffset?</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="70" y="485.1426"> </text><ellipse cx="61" cy="498.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="70" y="502.752">To : DateTimeOffset?</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="70" y="520.3613"> </text><ellipse cx="61" cy="533.7422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="70" y="537.9707">Date  DateOnly?</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="70" y="555.5801"> </text><ellipse cx="61" cy="568.9609" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="70" y="573.1895">Projects :  List&lt;Project&gt;?</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="70" y="590.7988"> </text><ellipse cx="61" cy="604.1797" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="70" y="608.4082">Count : int?</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="70" y="626.0176"> </text><ellipse cx="61" cy="639.3984" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="70" y="643.627">IsActive :  bool?</text><line style="stroke:#181818;stroke-width:0.5;" x1="51" x2="232" y1="650.7031" y2="650.7031"/></g><!--MD5=[0dd21b79d72907f5ae3e09eec83a42bc]
link vm to store--><g id="link_vm_store"><path codeLine="45" d="M293.25,143.03 C277.61,166.73 260.08,193.28 244.7,216.58 " fill="none" id="vm-to-store" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="241.86,220.89,250.1596,215.5874,244.617,216.7188,243.4856,211.1762,241.86,220.89" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="271.5" y="187.4951">get current list</text></g><!--MD5=[1c37f76f09b135839cf0391fef2e1fe3]
link vm to repository--><g id="link_vm_repository"><path codeLine="46" d="M380.71,143.12 C394.34,166.91 408.23,194.39 417.5,221 C442.02,291.38 455.39,374.65 462.56,438.04 " fill="none" id="vm-to-repository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="463.16,443.34,466.1328,433.9505,462.6031,438.3711,458.1825,434.8415,463.16,443.34" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="447.5" y="285.4951">add\remove record</text></g><!--MD5=[cacbedaa8284ce3d4846b6b532e6e003]
link store to repository--><g id="link_store_repository"><path codeLine="47" d="M264.09,339.09 C295.11,368.84 333.72,405.85 369.12,439.8 " fill="none" id="store-to-repository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="372.98,443.49,369.2411,434.3784,369.3668,440.0339,363.7113,440.1596,372.98,443.49" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="313.5" y="383.4951">get records</text></g><!--MD5=[53ea3ea645cc3594bc93a4db98a13547]
link store to filter--><g id="link_store_filter"><path codeLine="48" d="M189.43,339.09 C184.17,360.8 177.98,386.39 171.82,411.82 " fill="none" id="store-to-filter" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="170.58,416.91,176.5786,409.0987,171.7523,412.0494,168.8016,407.223,170.58,416.91" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="183.5" y="383.4951">filter records</text></g><!--MD5=[fd548a67cf41474bde8d8e28803d64f2]
@startuml

class "ListingRecordStore" as store {
    - _recordRepository : IRecordRepository
    + Records : List<Record>
    + FilterListingArgs : FilterListingArgs
    + ListingChanged : EventHandler<RepositoryChangedArgs>
}


interface "IRecordRepository" as repository {
    + GetNewId() : ulong
    + AddRecord(Record)
    + UpdateRecord(Record)
    + DeleteRecord(Record)
    + Contains(Record) : bool
    + GetAllRecords(filterPredicate) : IEnumerable<List>
    + GetAllRecords(FilterListingArgs) : IEnumerable<List>
    + RecordsChanged : EventHandler<RepositoryChangedArgs>
}

class "ListingRecordViewModel" as vm {
    - _recordRepository : IRecordRepository
    - _listingStore : ListingRecordStore
    + Records : List<Record>
    + AddRecordCommand
    # OnUpdatedListing()


}

class "FilterListingArgs" as filter {
        + From : DateTimeOffset? 

        + To : DateTimeOffset? 

        +Date  DateOnly? 

        + Projects :  List<Project>?

        +  Count : int?

        + IsActive :  bool?
}

vm - -> store : "get current list"
vm - -> repository : "add\\remove record"
store - -> repository : "get records"
store - -> filter : "filter records"


@enduml

PlantUML version 1.2022.7(Mon Aug 22 22:01:30 YEKT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1251
Language: ru
Country: RU
--></g></svg>